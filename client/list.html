<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Mood Flower - ë„ì„œ ëª©ë¡</title>
    <style>
        /* 1. index.htmlê³¼ ë™ì¼í•œ ë””ìì¸ ë³€ìˆ˜ ë° ë°”ë”” ìŠ¤íƒ€ì¼ */
        :root { --primary-color: #ff85a2; --bg-color: #f8f9fa; }
        body { 
            font-family: 'Pretendard', sans-serif; 
            background-color: var(--bg-color); 
            margin: 0; 
            padding: 2rem 0; /* ìƒí•˜ ì—¬ë°±ë§Œ ë¶€ì—¬ */
            display: flex; 
            flex-direction: column;
            align-items: center;
        }

        .container { 
            background: white; 
            padding: 2rem; 
            border-radius: 15px; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); 
            width: 90%; 
            max-width: 900px; /* ëª©ë¡ì´ë¼ ì¢€ ë” ë„“ê²Œ ì„¤ì • */
        }

        h2 { color: #333; text-align: center; margin-bottom: 1.5rem; }

        /* 2. ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ */
        .book-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); 
            gap: 1.5rem; 
        }

        /* 3. ì¹´ë“œ ë””ìì¸ (index.htmlì˜ ì¸í’‹ì°½ ëŠë‚Œì„ ì‚´ë¦° ë¼ìš´ë”©) */
        .book-card { 
            background: #fff; 
            border: 1px solid #eee; 
            border-radius: 12px; 
            overflow: hidden; 
            transition: 0.3s;
            display: flex;
            flex-direction: column;
        }
        .book-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        .book-card img { 
            width: 100%; 
            height: 300px; 
            object-fit: contain; 
            background: #fdfdfd; 
            padding: 10px;
            box-sizing: border-box;
            border-bottom: 1px solid #f8f8f8;
        }

        .book-info { padding: 1rem; text-align: center; }
        .book-title { font-size: 1rem; font-weight: bold; color: #444; margin-bottom: 0.5rem; }
        .book-price { color: var(--primary-color); font-weight: bold; font-size: 1.1rem; }

        /* 4. í•˜ë‹¨ ë²„íŠ¼ (index.htmlì˜ btn-list ìŠ¤íƒ€ì¼) */
        .nav-center { margin-top: 2rem; width: 100%; max-width: 400px; }
        .btn-home { 
            display: block; width: 100%; padding: 1rem; 
            border: none; border-radius: 8px; cursor: pointer; 
            font-weight: bold; transition: 0.3s; 
            background-color: #eee; color: #555; text-align: center;
            text-decoration: none; box-sizing: border-box;
        }
        .btn-home:hover { background-color: #ddd; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ’ ë„ì„œ ëª©ë¡ í™•ì¸</h2>
    <div id="bookList" class="book-grid">
        </div>
</div>

<div class="nav-center">
    <a href="index.html" class="btn-home">â† ë„ì„œ ë“±ë¡í•˜ëŸ¬ ê°€ê¸°</a>
</div>

<script>
    window.onload = async function() {
        try {
            const response = await fetch('http://localhost:8080/api/books');
            const books = await response.json();
            const listDiv = document.getElementById('bookList');
            
            if (books.length === 0) {
                listDiv.innerHTML = "<p style='text-align:center; grid-column: 1/-1; color:#999;'>ë“±ë¡ëœ ë„ì„œê°€ ì—†ìŠµë‹ˆë‹¤. ğŸŒ¸</p>";
                return;
            }

            books.forEach(book => {
                const card = `
                    <div class="book-card">
                        <img src="${book.imageUrl}" alt="${book.title}" onerror="this.src='https://via.placeholder.com/250x300?text=No+Image'">
                        <div class="book-info">
                            <div class="book-title">${book.title}</div>
                            <div class="book-price">${book.price.toLocaleString()}ì›</div>
                        </div>
                    </div>
                `;
                listDiv.innerHTML += card;
            });
        } catch (error) {
            console.error(error);
            alert('ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
    };
</script>
</body>
</html>